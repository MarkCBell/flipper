
build: false

branches:
  only:
  - master
  - dev

environment:
  matrix:
    - PYTHON: "C:\\Python27"
      TOX_ENV: "py27"

    - PYTHON: "C:\\Python35"
      TOX_ENV: "py35"

    - PYTHON: "C:\\Python36"
      TOX_ENV: "py36"

    - PYTHON: "C:\\Python36"
      TOX_ENV: "docs"

init:
  - set "PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%"
  - echo "%PYTHON%"
  - python.exe -c "import sys; print(sys.version)"

install:
  # install ActiveState Tcl:
  - appveyor DownloadFile http://downloads.activestate.com/ActiveTcl/releases/8.6.7.0/ActiveTcl-8.6.7.0-MSWin32-x64-404764.exe
  - ActiveTcl-8.6.7.0-MSWin32-x64-404764.exe --directory C:\Tcl

  - pip.exe install setuptools --upgrade
  - pip.exe install -r requirements-dev.txt
  - pip.exe install --editable .

test_script:
  - tox.exe -e %TOX_ENV% -- --hypothesis-profile=ci --duration=20

